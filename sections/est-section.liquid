<section class="estd-section" style="background: {{ section.settings.bg_color }}; margin-top: -2px;">
  <div class="estd-container page-width">
    
    <!-- Left Side Peanuts/Beans -->
    {% if section.settings.left_image_1 %}
      <img src="{{ section.settings.left_image_1 | image_url }}" 
           class="estd-floating estd-left estd-left-1" alt="Left deco 1">
    {% endif %}
    {% if section.settings.left_image_2 %}
      <img src="{{ section.settings.left_image_2 | image_url }}" 
           class="estd-floating estd-left estd-left-2" alt="Left deco 2">
    {% endif %}
    {% if section.settings.left_image_3 %}
      <img src="{{ section.settings.left_image_3 | image_url }}" 
           class="estd-floating estd-left estd-left-3" alt="Left deco 3">
    {% endif %}

    <!-- Right Side Peanuts/Beans -->
    {% if section.settings.right_image_1 %}
      <img src="{{ section.settings.right_image_1 | image_url }}" 
           class="estd-floating estd-right estd-right-1" alt="Right deco 1">
    {% endif %}
    {% if section.settings.right_image_2 %}
      <img src="{{ section.settings.right_image_2 | image_url }}" 
           class="estd-floating estd-right estd-right-2" alt="Right deco 2">
    {% endif %}

    <h2 class="estd-heading">{{ section.settings.heading }}</h2>
    <p class="estd-text">{{ section.settings.text }}</p>
  </div>

  <!-- Wave Divider -->
  <div class="estd-wave-divider">
    <svg viewBox="0 0 1200 120" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0,60 C200,100 400,20 600,60 C800,100 1000,20 1200,60 L1200,120 L0,120 Z"></path>
    </svg>
  </div>
</section>
  <style>
    .estd-section {
      --wave-height: 100px;
      padding: {{ section.settings.padding_top }}px 0 calc(var(--wave-height) + {{ section.settings.padding_bottom }}px) 0;
      position: relative;
      overflow: hidden;
      text-align: center;
    }

    .estd-heading {
      font-size: 78px;
      font-weight: 700;
      color: {{ section.settings.heading_color }};
      margin-bottom: 20px;
      margin-top: 15px;
      font-family: var(--font-family);
      line-height: 86px;
      letter-spacing: 2.5px;
    }

    .estd-text {
      margin: 0 auto;
      font-size: 26px;
      line-height: 40px;
      font-weight: 400;
      color: {{ section.settings.text_color }};
      font-family: var(--font-family);
      padding: 0 210px;
    }

    .estd-floating {
      position: absolute;
      width: 80px;
      opacity: 0.95;
      z-index: 2;
    }

    /* Left Side Positions */
    .estd-left-1 {
      left: -1%;
      top: 3%;
      transform: rotate(-15deg);
    }

    .estd-left-2 {
      top: 11%;
      left: 4%;
      transform: rotate(10deg);
    }

    .estd-left-3 {
      top: 21%;
      left: -2%;
      transform: rotate(36deg);
    }

    /* Right Side Positions */
    .estd-right-1 {
      top: 47%;
      right: -1%;
      transform: rotate(-18deg);
    }

    .estd-right-2 {
      top: 67%;
      right: -1%;
      transform: rotate(8deg);
    }

    /* Wave Divider */
    .estd-wave-divider {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: var(--wave-height);
      overflow: hidden;
      z-index: 1;
    }

    .estd-wave-divider svg {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      fill: {{ section.settings.wave_color | default: '#f5f5dc' }};
    }

    @media(min-width: 769px) and (max-width: 1024px) {
      .estd-text {
      padding: 0 140px;
      }
    }
    @media(max-width: 768px){
      .estd-section {
        --wave-height: 60px;
      }
      .estd-floating { 
        width: 50px; 
        opacity: 1; 
      }
      .estd-heading {
        font-size: 42px;
        line-height: 46px;
      }
      .estd-text {
      font-size: 24px;
      line-height: 34px;
      padding: 0 70px;
      }
      .page-width{
        padding: 0px 30px;
      }
      /* Left Side Positions */
    .estd-left-1 {
      left: -3%;
      top: 3%;
      transform: rotate(-15deg);
    }

    .estd-left-2 {
      top: 9%;
      left: 6%;
      transform: rotate(10deg);
      z-index: 0;
    }

    .estd-left-3 {
      top: 15%;
      left: -2%;
      transform: rotate(36deg);
      z-index: 0;
    }

    /* Right Side Positions */
    .estd-right-1 {
      Top: 73%;
      right: -4%;
      transform: rotate(-18deg);
    }

    .estd-right-2 {
      top: 82%;
      right: -3%;
      transform: rotate(8deg);
    }
    }

    @media(max-width: 480px){
     .estd-text {
      font-size: 22px;
      line-height: 32px;
      padding: 0 30px;
      z-index: 1;
      position: relative;
      }
    }

  </style>


{% schema %}
{
  "name": "ESTD Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "estâ€™d 2007"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Description",
      "default": "We began as a couple parents in New York City who wanted healthier meals for their own kids..."
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#0c4434"
    },
    {
      "type": "header",
      "content": "Decorative Images (Peanuts/Beans)"
    },
    {
      "type": "image_picker",
      "id": "left_image_1",
      "label": "Left Side - Image 1 (Top)"
    },
    {
      "type": "image_picker",
      "id": "left_image_2",
      "label": "Left Side - Image 2 (Middle)"
    },
    {
      "type": "image_picker",
      "id": "left_image_3",
      "label": "Left Side - Image 3 (Bottom)"
    },
    {
      "type": "image_picker",
      "id": "right_image_1",
      "label": "Right Side - Image 1 (Top)"
    },
    {
      "type": "image_picker",
      "id": "right_image_2",
      "label": "Right Side - Image 2 (Bottom)"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 20,
      "max": 200,
      "step": 5,
      "label": "Top Padding",
      "default": 70
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 20,
      "max": 200,
      "step": 5,
      "label": "Bottom Padding",
      "default": 70
    },
    {
      "type": "header",
      "content": "Wave Divider"
    },
    {
      "type": "color",
      "id": "wave_color",
      "label": "Wave Color",
      "default": "#F1EAD9",
      "info": "Color of the wave divider at the bottom"
    }
  ],
  "presets": [
    {
      "name": "ESTD Section"
    }
  ]
}
{% endschema %}
