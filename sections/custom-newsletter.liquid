{% schema %}
{
  "name": "Custom Newsletter",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color",
      "id": "col1_bg",
      "label": "Column 1 Background",
      "default": "#95C940"
    },
    {
      "type": "color",
      "id": "col2_bg",
      "label": "Column 2 Background",
      "default": "#F89821"
    },
    {
      "type": "color",
      "id": "col3_bg",
      "label": "Column 3 Background",
      "default": "#95C940"
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button Text (Col 1)",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "btn_url",
      "label": "Button URL (Col 1)",
      "default": "/collections/all"
    },
    {
      "type": "richtext",
      "id": "rich_text_1",
      "label": "Rich Text - Column 1",
      "default": "<p>Free shipping on orders over $50</p>"
    },
    {
      "type": "text",
      "id": "newsletter_btn_text",
      "label": "Newsletter Button Text",
      "default": "Join"
    },
    {
      "type": "richtext",
      "id": "rich_text_2",
      "label": "Rich Text - Column 2",
      "default": "<p>Get exclusive offers & updates</p>"
    },
    {
      "type": "url",
      "id": "social_facebook",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "social_instagram",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "social_tiktok",
      "label": "tiktok URL"
    },
    {
      "type": "richtext",
      "id": "rich_text_3",
      "label": "Rich Text - Column 3",
      "default": "<p>Follow us for updates</p>"
    }
  ],
  "presets": [
    {
      "name": "Custom Newsletter"
    }
  ]
}
{% endschema %}

<div class="custom-newsletter page-width color-{{ section.id }}">
  <div class="custom-newsletter__inner">
    <div class="columns-wrapper">

      <!-- Column 1 -->
      <div class="column column-1" style="background-color: {{ section.settings.col1_bg }};">
        <a href="{{ section.settings.btn_url }}" class="button btn-2"><span>{{ section.settings.btn_text }}</span></a>
        <div class="rich-text">
          {{ section.settings.rich_text_1 }}
        </div>
      </div>

      <!-- Column 2 -->
      <div class="column column-2" style="background-color: {{ section.settings.col2_bg }};">
        <form class="newsletter-inline" id="newsletter-form-{{ section.id }}" action="/contact#contact_form" method="post">
          <input type="hidden" name="form_type" value="customer">
          <input type="hidden" name="utf8" value="âœ“">
          <input type="hidden" name="contact[tags]" value="newsletter">

          <div class="newsletter-group">
            <input
              type="email"
              name="contact[email]"
              placeholder="Join our email list...."
              required
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              class="newsletter-input"
            >
            <button type="submit" class="newsletter-btn button btn-1">
              <span>{{ section.settings.newsletter_btn_text | default: 'Subscribe' }}</span>
            </button>
          </div>
          <p class="newsletter-message" id="newsletter-message-{{ section.id }}"></p>
        </form>

        <div class="rich-text">
          {{ section.settings.rich_text_2 }}
        </div>
      </div>

      <!-- Column 3 -->
      <div class="column column-3" style="background-color: {{ section.settings.col3_bg }};">
        <div class="social-icons">
          {% if section.settings.social_facebook != blank %}
            <a href="{{ section.settings.social_facebook }}" target="_blank" class="social-icon" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="70" viewBox="0 0 64 70" fill="none">
<circle cx="32" cy="38" r="32" fill="#A66515"/>
<circle cx="32" cy="32" r="32" fill="#F89821"/>
<path d="M35.1279 35.4677H41.049L43.4174 26.142H35.1279V21.4791C35.1279 19.0778 35.1279 16.8163 39.8648 16.8163H43.4174V8.98265C42.6453 8.8824 39.7298 8.65625 36.6508 8.65625C30.2205 8.65625 25.6541 12.5194 25.6541 19.614V26.142H18.5488V35.4677H25.6541V55.2849H35.1279V35.4677Z" fill="#63441D"/>
</svg>
            </a>
          {% endif %}
          {% if section.settings.social_instagram != blank %}
            <a href="{{ section.settings.social_instagram }}" target="_blank" class="social-icon" rel="noopener">
<svg xmlns="http://www.w3.org/2000/svg" width="64" height="70" viewBox="0 0 64 70" fill="none">
<circle cx="32" cy="38" r="32" fill="#A66515"/>
<circle cx="32" cy="32" r="32" fill="#F89821"/>
<path d="M33.9755 14.0977C35.9862 14.103 37.0068 14.1137 37.888 14.1388L38.2347 14.1513C38.6351 14.1656 39.0301 14.1835 39.5073 14.2049C41.409 14.2943 42.7066 14.5946 43.8452 15.036C45.0248 15.49 46.0186 16.1049 47.0124 17.0969C47.9216 17.9901 48.6249 19.071 49.0732 20.2641C49.5146 21.4027 49.8149 22.7004 49.9043 24.6039C49.9257 25.0794 49.9436 25.4744 49.9579 25.8765L49.9686 26.2233C49.9954 27.1027 50.0061 28.1233 50.0097 30.1341L50.0115 31.4675V33.809C50.0159 35.1127 50.0022 36.4164 49.9704 37.7198L49.9597 38.0665C49.9454 38.4687 49.9275 38.8637 49.9061 39.3392C49.8167 41.2427 49.5128 42.5386 49.0732 43.6789C48.6249 44.8721 47.9216 45.953 47.0124 46.8462C46.1192 47.7554 45.0383 48.4587 43.8452 48.907C42.7066 49.3485 41.409 49.6488 39.5073 49.7382L38.2347 49.7918L37.888 49.8025C37.0068 49.8275 35.9862 49.8401 33.9755 49.8436L32.6421 49.8454H30.3025C28.9982 49.85 27.6939 49.8363 26.39 49.8043L26.0433 49.7936C25.619 49.7775 25.1948 49.759 24.7707 49.7382C22.8689 49.6488 21.5713 49.3485 20.431 48.907C19.2386 48.4585 18.1583 47.7552 17.2656 46.8462C16.3558 45.9531 15.6519 44.8722 15.203 43.6789C14.7616 42.5404 14.4613 41.2427 14.3719 39.3392L14.3183 38.0665L14.3094 37.7198C14.2764 36.4164 14.2615 35.1127 14.2647 33.809V30.1341C14.2597 28.8304 14.2728 27.5267 14.304 26.2233L14.3165 25.8765C14.3308 25.4744 14.3487 25.0794 14.3701 24.6039C14.4595 22.7004 14.7598 21.4045 15.2013 20.2641C15.6511 19.0705 16.3563 17.9896 17.2674 17.0969C18.1596 16.1881 19.2392 15.4848 20.431 15.036C21.5713 14.5946 22.8672 14.2943 24.7707 14.2049C25.2461 14.1835 25.6429 14.1656 26.0433 14.1513L26.39 14.1406C27.6933 14.1088 28.997 14.0951 30.3007 14.0994L33.9755 14.0977ZM32.1381 23.0346C29.7679 23.0346 27.4949 23.9762 25.8189 25.6522C24.1429 27.3282 23.2014 29.6013 23.2014 31.9715C23.2014 34.3418 24.1429 36.6149 25.8189 38.2909C27.4949 39.9669 29.7679 40.9085 32.1381 40.9085C34.5083 40.9085 36.7813 39.9669 38.4573 38.2909C40.1333 36.6149 41.0748 34.3418 41.0748 31.9715C41.0748 29.6013 40.1333 27.3282 38.4573 25.6522C36.7813 23.9762 34.5083 23.0346 32.1381 23.0346ZM32.1381 26.6094C32.8422 26.6093 33.5395 26.7478 34.1901 27.0172C34.8407 27.2866 35.4319 27.6814 35.9299 28.1793C36.4279 28.6771 36.8229 29.2682 37.0925 29.9187C37.3621 30.5692 37.5009 31.2665 37.501 31.9706C37.5011 32.6748 37.3626 33.3721 37.0932 34.0227C36.8238 34.6733 36.429 35.2645 35.9311 35.7625C35.4333 36.2605 34.8423 36.6556 34.1918 36.9252C33.5413 37.1948 32.844 37.3336 32.1399 37.3337C30.7178 37.3337 29.3539 36.7688 28.3484 35.7632C27.3428 34.7576 26.7779 33.3937 26.7779 31.9715C26.7779 30.5494 27.3428 29.1855 28.3484 28.1799C29.3539 27.1743 30.7178 26.6094 32.1399 26.6094M41.5234 20.3535C40.9309 20.3535 40.3626 20.5889 39.9436 21.0079C39.5246 21.4269 39.2892 21.9952 39.2892 22.5877C39.2892 23.1803 39.5246 23.7486 39.9436 24.1676C40.3626 24.5866 40.9309 24.822 41.5234 24.822C42.116 24.822 42.6842 24.5866 43.1032 24.1676C43.5222 23.7486 43.7576 23.1803 43.7576 22.5877C43.7576 21.9952 43.5222 21.4269 43.1032 21.0079C42.6842 20.5889 42.116 20.3535 41.5234 20.3535Z" fill="#63441D"/>
</svg>            </a>
          {% endif %}
          {% if section.settings.social_tiktok != blank %}
            <a href="{{ section.settings.social_tiktok }}" target="_blank" class="social-icon" rel="noopener">
<svg xmlns="http://www.w3.org/2000/svg" width="64" height="70" viewBox="0 0 64 70" fill="none">
<circle cx="32" cy="38" r="32" fill="#A66515"/>
<circle cx="32" cy="32" r="32" fill="#F89821"/>
<path d="M42.5612 17.58C40.9922 15.7589 40.1273 13.4206 40.1275 11H33.0332V39.9333C32.9796 41.4994 32.3295 42.9832 31.2201 44.0715C30.1107 45.1598 28.6287 45.7676 27.0867 45.7667C23.8265 45.7667 21.1173 43.06 21.1173 39.7C21.1173 35.6867 24.9286 32.6767 28.8546 33.9133V26.54C20.9337 25.4667 14 31.72 14 39.7C14 47.47 20.3367 53 27.0638 53C34.273 53 40.1275 47.05 40.1275 39.7V25.0233C43.0043 27.123 46.4582 28.2495 50 28.2433V21.0333C50 21.0333 45.6837 21.2433 42.5612 17.58Z" fill="#63441D"/>
</svg>            </a>
          {% endif %}
        </div>

        <div class="rich-text">
          {{ section.settings.rich_text_3 }}
        </div>
      </div>

    </div>
  </div>
</div>

{% stylesheet %}
.custom-newsletter {
  font-size: 21px;
}

.custom-newsletter__inner {
  max-width: 100%;
  margin: 0 auto;
  padding: 0 0;
}

.custom-newsletter .columns-wrapper {
  display: flex;
  flex-wrap: wrap;
  gap: 0;
}

.custom-newsletter .column {
  flex: 1;
  min-width: 250px;
  padding: 40px 24px 50px;
  display: flex;
  flex-direction: column;
}

.custom-newsletter .column-1 { flex: 0 0 25%; align-items: center; gap: 15px; }
.custom-newsletter .column-2 { flex: 0 0 50%; gap: 15px; padding: 40px 70px;}
.custom-newsletter .column-3 { flex: 0 0 25%; align-items: center; gap: 15px; }

.custom-newsletter .column-1 p { max-width: 211px; font-size: 21px; text-align: center; line-height: 33px; font-weight: 400;}
.custom-newsletter .column-2 .rich-text p { font-size: 21px; line-height: 33px; font-weight: 400;}
.custom-newsletter .column-3 .rich-text p { max-width: 200px; font-size: 21px; text-align: center;line-height: 33px; font-weight: 400;}

.custom-newsletter .newsletter-group {
  display: flex;
  gap: 8px;
  flex-wrap: nowrap;
}

.custom-newsletter .newsletter-input {
  flex: 1;
  padding: 12px;
  border: 3px solid rgba(166, 101, 21, 1);
  border-radius: 5px;
  font-size: 21px;
  background-color: rgba(241, 234, 217, 1);
  color: rgba(99, 68, 29, 1);
}

.custom-newsletter .newsletter-input::placeholder {
    color: rgba(99, 68, 29, 1);
}

.custom-newsletter .newsletter-input:hover {
  background-color: rgba(241, 234, 217, 1);
}

.newsletter-btn {
  white-space: nowrap;
}

.custom-newsletter .newsletter-message {
  margin: 8px 0 0;
  font-size: 13px;
  min-height: 20px;
}

.custom-newsletter .social-icons {
  display: flex;
  gap: 12px;
}

.custom-newsletter .social-icon svg {
  width: 55px;
  height: 55px;
}

.custom-newsletter .rich-text :global(p) {
  margin: 0 0 8px;
  line-height: 1.5;
}

.custom-newsletter .rich-text :global(p:last-child) {
  margin-bottom: 0;
}
.custom-newsletter .column-1 .button {
  background: transparent!important;
  color: #63441D;
  font-family: "GT Walsheim";
  font-size: 30px;
  line-height: 44px;
  font-weight: 700;
  text-decoration: none;
  box-shadow: none;
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
  text-align: center;
  border-radius: 35px;
  padding: 8px 34px;
  border: none;
  text-transform: lowercase;
    transform: none !important;
}

.custom-newsletter .column-1 .button:before {
  background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_23_4.png?v=1764654764);
  background-size: 100% 100%;
  z-index: 2;
}

.custom-newsletter .column-1 .button span {
  z-index: 3;
}

.custom-newsletter .column-1 .button:after {
  content: '';
   background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_25_1.png?v=1764654764);
  background-size: 100% 100%;
  padding: 8px 34px;
  bottom: -6px;
  z-index: 1;
  box-shadow: none;
}

.custom-newsletter .column-1 .button:hover:before {
  background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_23_5.png?v=1764654764) !important;
  background-size: 100% 100% !important;
}

.custom-newsletter .column-2 .button{
  background: transparent!important;
  color: #0F4735;
  font-family: "GT Walsheim";
  font-size: 30px;
  font-weight: 700;
  line-height: 44px;
  text-decoration: none;
  box-shadow: none;
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
  text-align: center;
  border-radius: 35px;
  padding: 8px 34px;
  border: none;
  text-transform: lowercase;
    transform: none !important;
}

.custom-newsletter .column-2 .button:before {
   background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_23_2.png?v=1764592651);
  background-size: 100% 100%;
  z-index: 2;
}

.custom-newsletter .column-2 .button span{
  z-index: 3;
}

.custom-newsletter .column-2 .button:after {
  content: '';
   background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_25.png?v=1764592665);
  background-size: 100% 100%;
  padding: 8px 34px;
  bottom: -5px;
  z-index: 1;
  box-shadow: none;
}


.custom-newsletter .column-2 .button:hover:before {
  background: url(https://cdn.shopify.com/s/files/1/0577/3957/5488/files/Vector_23_3.png?v=1764592664) !important;
  background-size: 100% 100% !important;
}

.custom-newsletter .column-2 .button:hover:after{
  bottom: -5px;
  box-shadow: none;
}

.section-sections--20805898010849__custom_liquid_pz8bzw-padding .custom-top__wrapper {
  margin-bottom: -11pc !important;
}

@media screen and (min-width: 1024px) and (max-width: 1275px) {
  .custom-newsletter .newsletter-input{
    width: 50%;
  }
  .custom-newsletter .column-2 {
    padding: 40px 20px;
  }
}
@media (min-width: 768px) and (max-width:1400px) {
  ul.footer-block__details-content.list-unstyled {
    display: block !important;
  }
  .footer-block.grid__item.scroll-trigger.animate--slide-in {
    max-width: 50% !important;
  }
}
@media (min-width: 768px) and (max-width:1024px){
  section#shopify-section-sections--20805898010849__custom_liquid_pz8bzw {
  margin-top: 0 !important;
}
div#shopify-section-sections--20805898010849__footer {
    margin-top: 0 !important;
}
.section-sections--20805898010849__custom_liquid_pz8bzw-padding .custom-top__wrapper {
  margin-bottom: -2pc !important;
}

.section-sections--20805898010849__custom_liquid_pz8bzw-padding {
  background-color: #f89821 !important;
  margin-top: -1pc !important;
}
  .custom-newsletter .column-1,
  .custom-newsletter .column-3{
    order: 1;
    flex: 0 0 50%;
    width: 50%;
  }
  .custom-newsletter .column-2{
    order: 2;
    flex: 0 0 100%;
  }
}

 @media (max-width: 768px) {
section#shopify-section-sections--20805898010849__custom_liquid_pz8bzw {
  margin-top: -3pc !important;
}
  .custom-newsletter .columns-wrapper {
    display: flex;
    flex-wrap: wrap;
  }
  .custom-newsletter .column {
    min-width:auto;
  }

  .custom-newsletter .column-1 .button,
  .custom-newsletter .column-2 .button {
    font-size: 20px;
  }

  .custom-newsletter .column-1,
  .custom-newsletter .column-3 {
    width: 50% !important;
    flex: 0 0 50% !important;
    order: 1;
    padding: 25px 15px !important;
    text-align: center;
  }

  .custom-newsletter .column-2 {
    width: 100% !important;
    flex: 0 0 100% !important;
    order: 2;
    /* padding: 35px 20px 150px !important; */
  }

  .custom-newsletter .column-1 a.btn-2 {
    min-width: 200px;
  }

  .custom-newsletter .column-2 .rich-text {
    padding-top: 10px;
  }
  .footer .grid {
    display: flex !important;
  }

  .footer-block.grid__item {
    margin: 0;
    width: 0 !important;
  }
  
    .footer__content-top {
      padding-left: 30px;
      padding-right: 30px;
    }

    .footer-block__details-content {
      margin-top: 38px;
      margin-bottom: 30px;
    }
}

@media (max-width: 565px) {
    .custom-newsletter .newsletter-group {
        flex-wrap: wrap;
    }
    .custom-newsletter .newsletter-btn {
        width: 100%;
    }
    .custom-newsletter .column {    
        padding: 40px 24px 50px;
    }

    .custom-newsletter .column-1 a.btn-2 {
    min-width: 172px;
  }
  .custom-newsletter .social-icon svg {
  width: 45px;
  height: 50px;
}
}

{% endstylesheet %}

{% javascript %}
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById(`newsletter-form-{{ section.id }}`);
  const messageEl = document.getElementById(`newsletter-message-{{ section.id }}`);

  if (!form) return;

  form.addEventListener('submit', async function (e) {
    e.preventDefault();
    messageEl.textContent = '';
    messageEl.style.color = '';

    const email = form.querySelector('input[type="email"]').value.trim();
    if (!email || !email.includes('@')) {
      messageEl.textContent = 'Please enter a valid email.';
      messageEl.style.color = 'red';
      return;
    }

    try {
      const formData = new FormData(form);
      formData.append('contact[email]', email);

      const response = await fetch('/contact#contact_form', {
        method: 'POST',
        body: formData,
        headers: { 'X-Requested-With': 'XMLHttpRequest' }
      });

      const text = await response.text();
      if (text.includes('Thank you') || text.includes('success')) {
        messageEl.textContent = 'Thanks! You're subscribed.';
        messageEl.style.color = 'green';
        form.reset();
      } else {
        messageEl.textContent = 'Something went wrong.';
        messageEl.style.color = 'red';
      }
    } catch (err) {
      messageEl.textContent = 'Network error.';
      messageEl.style.color = 'red';
    }
  });
});
{% endjavascript %}